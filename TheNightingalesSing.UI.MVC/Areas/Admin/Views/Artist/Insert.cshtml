
@{
    ViewData["Title"] = "Insert";
    Layout = "~/Areas/Admin/Views/Shared/_adminLayout.cshtml";
}

<section class="breadcumb-area bg-img bg-overlay" style="background-image: url(../../img/bg-img/breadcumb.jpg);">
    <div class="bradcumbContent">
        <p>Artist Ekleme Sayfası</p>
        <h2>Artist Add Page</h2>
    </div>
</section>

<div class="login-content">
    <form>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="fullName">Artist Adı</label>
            <div class="col-sm-10">
                <input type="text" id="fullName" class="form-control" />
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="bio">Artist Biografi</label>
            <div class="col-sm-10">
                <textarea class="form-control" id="bio" rows="3" placeholder="'max 500 karakter'"></textarea>
            </div>
        </div>

    </form>
    <button class="btn oneMusic-btn mt-30" id="addBtn">Artist Ekle</button>
</div>

@section scripts{
    <script>
        $("#addBtn").click(function () {
            var artist = {
                ArtistID:0,
                FullName:$("#fullName").val(),
                Bio:$("#bio").val()
            }            
            $.ajax({
                url: "http://localhost:53177/api/Artist/InsertArtist",
                type: "POST",
                data: JSON.stringify(artist),
                contentType: "application/json; charset=UTF-8",                
                success: function () {
                    alert("Artist eklendi.")
                    $(location).attr('href', '/admin/artist/Index')
                }
            }).fail(function () {
                alert("Ekleme işlemi gerçekleşmedi. Lütfen bilgileri kontrol ediniz.")
            })
        })
        
    </script>
}
